<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1251">

</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<H1><A NAME="idh_bsoext"></A>Расширения буфера Binkley</H1>

<H2>5d буфер системы Binkley</H2>

<P>В разделе <A HREF="bso.html">Буфер отправки системы Binkley</A> описана структура 4d буфера Binkley. Однако иногда бывает удобно использовать 5d FTN-адреса, в которых, кроме номеров зоны, сети, узла и пойнта узла содержится также название домена, к которому принадлежит данный узел (пример: 2:461/700.1@garden). Такой способ адресации используется некоторыми упаковщиками почты. Без поддержки 5d буфера отправки почтовая система не сможет отправлять сгенерированные ими пакеты.</P>

<P>В Радиусе имеется опциональная возможность поддержки 5d буфера системы Binkley. Для ее активизации необходимо установить флажок <U>5D Outbound</U> в <A HREF="cfgmain.html">секции Main</A> <A HREF="preferences.html">диалогового окна "Настройки"</A>. После этого пакеты, предназначенные для отправки на узел, будут располагаться не в каталоге, указанном в поле Outbound <A HREF="pn.html">окна настройки каталогов</A>, а в каталоге с именем домена (по умолчанию домен имеет имя <CODE>fidonet</CODE>). Расширение этого каталога по-прежнему определяется номером зоны. Примеры:</P>

<TABLE cols=2 width=506>

<TR VALIGN="top">
<TD width=25%><CODE>OUTBOUND</CODE></TD>
<TD width=75%>4d адресация: буфер для <A HREF="pn.html#idht_cfgpndefzone">текущей зоны</A></TD>
</TR>

<TR VALIGN="top">
<TD width=25%><CODE>OUTBOUND.001</CODE></TD>
<TD width=75%>4d адресация: буфер для зоны 1 (Северная Америка)</TD>
</TR>

<TR VALIGN="top">
<TD width=25%><CODE>fidonet</CODE></TD>
<TD width=75%>5d адресация: буфер для текущей зоны с доменом по умолчанию</TD>
</TR>

<TR VALIGN="top">
<TD width=25%><CODE>garden.001</CODE></TD>
<TD width=75%>5d адресация: буфер для зоны 1 (Северная Америка) с доменом <CODE>garden</CODE>.</TD>
</TR>

</TABLE><BR>

<P>Для поддержки 5d адресации при настройке <A HREF="fileboxes.html">файл-боксов</A> был введен макрос <CODE>%DOMAIN</CODE>.</P>

<H2>Динамический буфер отправки</H2>

<P>В Радиусе имеется возможность динамической работы с буфером отправки. В этом режиме упаковка эхо-почты (ARСmail) и прямых почтовых пакетов (netmail) пpоизводится в любой момент, независимо от наличия текущих сессий с узлами, а пакеты отпpавляются немедленно, в какой бы момент они ни появились в каталоге отправки. Таким образом, пакеты, сформированные во время сессии, могут быть оправлены в эту же сессию..</P>

<P>Режим динамической отправки активизируется установкой флажка <U>Use Dynamic Outbound</U> в <A HREF="cfgmain.html">секции Main</A> <A HREF="preferences.html">диалогового окна "Настройки"</A>.</P>

<P>Рассмотрим интересный эффект, связанный с динамической обработкой буфера. При сессии возможна ситуация, когда во время передачи файлов Радиус обнаружит в буфере отправки прямой почтовый пакет, обладающий большим приоритетом очередности отправки, чем передаваемый файл. В этом случае, в соответствии со спецификацией буфера отправки системы Binkley, Радиус прервет процесс передачи файла и начнет передачу этого пакета. После пересылки всех пакетов, обладающих преимущественным правом очередности, Радиус продолжит передачу файла с места обрыва.</P>

<H2>Файлы, содержащиеся в буфере отправки</H2>

<P>Помимо пакетов и файлов, описанных в разделе <A HREF="bso.html">Буфер отправки системы Binkley</A>, в буфере отправки Радиуса могут находиться также файлы следующих типов:</P>

<TABLE cols=2 width=642>

<TR VALIGN="top">
<TD width=15%><CODE>.UDL</CODE></TD>
<TD width=85%>Индикатор постановки прозвонки на паузу (меню <A HREF="mnupoll.html">Poll</A> / Pause).</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><CODE>.CLB</CODE></TD>
<TD width=85%>Запрос <A HREF="callback.html">обратного вызова</A>. Создается из меню <A HREF="mnutool.html">Tool</A> / Create a flag.</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><CODE>.CSY</CODE></TD>
<TD width=85%>Для замещения индикатора занятости узла <CODE>.BSY</CODE> при включенном режиме динамического буфера отправки.</TD>
</TR>

<TR VALIGN="top">
<TD width=15%><CODE>.CU~, .DU~, .OU~, .HU~</CODE></TD>
<TD width=85%>Для замещения пакетов <CODE>.CUT, .DUT, .OUT, .HUT</CODE> при включенном режиме динамического буфера отправки.</TD>
</TR>

</TABLE><BR>

<P>Кроме того, во время сессии в буфере отправки могут создаваться временные каталоги и файлы, которые автоматически удаляются по ее завершении. Таким образом обеспечивается работа с динамическим буфером отправки.</P>

<H2>Динамическая маршрутизация</H2>

<P>Динамическая маршрутизация - это возможность Радиуса динамически (во время сессии) формировать маршрут прохождения прямых почтовых пакетов <A HREF="bso.html">буфера отправки Binkley</A>, т.е. личной почты (netmail), в соответствии с заданными правилами маршрутизации. Данная возможность позволяет обеспечить максимальную гибкость для повышения скорости доставки личной почты до адресата при отказе какого-либо из узлов на маршруте. Это может быть актуально на крупных узлах, распределяющих почту, особенно с учетом специфики FTN-сетей.</P>

<P>После включения динамической маршрутизации Радиус в начале каждой сессии будет проверять наличие удаленного узла, с которым происходит сессия, в схемах маршрутизации, и при необходимости допаковывать к прямым почтовым пакетам, отправляемым на этот узел, почту из пакетов для других узлов. Таким образом, личная почта будет отправлена через первый из указанных в схемах маршрутизации узлов, с которым произошла сессия.</P>

<P>Настройка правил (схем) маршрутизации личной почты производится в <A HREF="cfgnetmail.html">секции Netmail</A> <A HREF="preferences.html">диалогового окна "Настройки"</A>.</P>

</BODY>
</HTML>

